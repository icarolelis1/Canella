{
  "PipelineData": {
    "DescriptorSetLayoutCounts":9,
    "PipelinesCount": 5,
    "DescriptorSetLayouts": [
      {
        "Key": "ViewProjection",
        "ResourceCount": 1,
        "PushDescriptor" : false,
        "BindingResources": [
          {
            "Key": "ViewProjection",
            "Stage": [
              "MESH_STAGE",
              "FRAGMENT_STAGE",
              "TASK_STAGE",
              "COMPUTE_STAGE"
            ],
            "Type": "UNIFORM_BUFFER",
            "Binding": 0
          }
        ]
      },
      {
        "Key": "Transforms",
        "ResourceCount": 1,
        "PushDescriptor" : false,
        "BindingResources": [
          {
            "Key": "Transforms",
            "Stage": [
              "MESH_STAGE",
              "TASK_STAGE",
              "COMPUTE_STAGE"
            ],
            "Type": "STORAGE_BUFFER",
            "Binding": 0
          }
        ]
      },
      {
        "Key": "Meshlets",
        "ResourceCount": 7,
        "PushDescriptor" : false,
        "BindingResources": [
          {
            "Key": "Meshlets",
            "Stage": [
              "MESH_STAGE"
            ],
            "Type": "STORAGE_BUFFER",
            "Binding": 0
          },
          {
            "Key": "Vertices",
            "Stage": [
              "MESH_STAGE"
            ],
            "Type": "STORAGE_BUFFER",
            "Binding": 1
          },
          {
            "Key": "Bounds",
            "Stage": [
              "TASK_STAGE",
              "MESH_STAGE"
            ],
            "Type": "STORAGE_BUFFER",
            "Binding": 2
          },
          {
            "Key": "MeshletIndices",
            "Stage": [
              "MESH_STAGE"
            ],
            "Type": "STORAGE_BUFFER",
            "Binding": 3
          },
          {
            "Key": "MeshletVerticees",
            "Stage": [
              "MESH_STAGE"
            ],
            "Type": "STORAGE_BUFFER",
            "Binding": 4
          },
          {
            "Key": "IndirectCommands",
            "Stage": [
              "TASK_STAGE",
              "MESH_STAGE"
            ],
            "Type": "STORAGE_BUFFER",
            "Binding": 5
          },
          {
            "Key": "MeshData",
            "Stage": [
              "TASK_STAGE",
              "MESH_STAGE"
            ],
            "Type": "STORAGE_BUFFER",
            "Binding": 6
          }
        ]
      },
      {
        "Key": "CommandProcessor",
        "ResourceCount": 4,
        "PushDescriptor" : false,
        "BindingResources": [
          {
            "Key": "CommandProcessor",
            "Stage": [
              "COMPUTE_STAGE"
            ],
            "Type": "STORAGE_BUFFER",
            "Binding": 0
          },
          {
            "Key": "MeshData",
            "Stage": [
              "COMPUTE_STAGE"
            ],
            "Type": "STORAGE_BUFFER",
            "Binding": 1
          },
          {
            "Key": "CommandProcessor",
            "Stage": [
              "COMPUTE_STAGE"
            ],
            "Type": "STORAGE_BUFFER",
            "Binding": 2
          },
          {
            "Key": "CommandProcessor",
            "Stage": [
              "COMPUTE_STAGE"
            ],
            "Type": "STORAGE_BUFFER",
            "Binding": 3
          }
        ]
      },
      {
        "Key": "OcclusionCulling",
        "ResourceCount": 5,
        "PushDescriptor" : false,
        "BindingResources": [
          {
            "Key": "CommandRead",
            "Stage": [
              "COMPUTE_STAGE"
            ],
            "Type": "STORAGE_BUFFER",
            "Binding": 0
          },
          {
            "Key": "MeshData",
            "Stage": [
              "COMPUTE_STAGE"
            ],
            "Type": "STORAGE_BUFFER",
            "Binding": 1
          },
          {
            "Key": "CountBuffer",
            "Stage": [
              "COMPUTE_STAGE"
            ],
            "Type": "STORAGE_BUFFER",
            "Binding": 2
          },
          {
            "Key": "VisibilityBuffer",
            "Stage": [
              "COMPUTE_STAGE"
            ],
            "Type": "STORAGE_BUFFER",
            "Binding": 3
          },
          {
            "Key": "VisibilityBuffer",
            "Stage": [
              "COMPUTE_STAGE"
            ],
            "Type": "SAMPLER_2D",
            "Binding": 4
          }
        ]
      },
      {
        "Key": "OcclusionWrite",
        "ResourceCount": 2,
        "PushDescriptor" : true,
        "BindingResources": [
          {
            "Key": "OcclusionWrite",
            "Stage": [
              "COMPUTE_STAGE"
            ],
            "Type": "IMAGE_STORAGE",
            "Binding": 0
          },
          {
            "Key": "OcclusionWrite",
            "Stage": [
              "COMPUTE_STAGE"
            ],
            "Type": "SAMPLER_2D",
            "Binding": 1
          }
        ]
      },
      {
        "Key": "Material",
        "ResourceCount": 5,
        "PushDescriptor" : false,
        "BindingResources": [
          {
            "Key": "Albedo",
            "Stage": [
              "FRAGMENT_STAGE"
            ],
            "Type": "SAMPLER_2D",
            "Binding": 0
          },
          {
            "Key": "Ao",
            "Stage": [
              "FRAGMENT_STAGE"
            ],
            "Type": "SAMPLER_2D",
            "Binding": 1
          },
          {
            "Key": "Metalness",
            "Stage": [
              "FRAGMENT_STAGE"
            ],
            "Type": "SAMPLER_2D",
            "Binding": 2
          },
          {
            "Key": "Normal",
            "Stage": [
              "FRAGMENT_STAGE"
            ],
            "Type": "SAMPLER_2D",
            "Binding": 3
          },
          {
            "Key": "Roughness",
            "Stage": [
              "FRAGMENT_STAGE"
            ],
            "Type": "SAMPLER_2D",
            "Binding": 4
          }
        ]
      },
      {
        "Key": "BrdfLut",
        "ResourceCount": 1,
        "PushDescriptor" : true,
        "BindingResources": [
          {
            "Key": "BrdfLut",
            "Stage": [
              "COMPUTE_STAGE"
            ],
            "Type": "IMAGE_STORAGE",
            "Binding": 0
          }
        ]
      },
      {
        "Key": "Environment",
        "ResourceCount": 3,
        "PushDescriptor" : false,
        "BindingResources": [
          {
            "Key": "Environment",
            "Stage": [
              "FRAGMENT_STAGE"
            ],
            "Type": "SAMPLER_CUBE",
            "Binding": 0
          },
          {
            "Key": "Environment",
            "Stage": [
              "FRAGMENT_STAGE"
            ],
            "Type": "SAMPLER_CUBE",
            "Binding": 1
          },
          {
            "Key": "Environment",
            "Stage": [
              "FRAGMENT_STAGE"
            ],
            "Type": "SAMPLER_2D",
            "Binding": 2
          }
        ]
      }
    ],
    "Pipelines":    [
      {
        "Key": "MeshShaderPipeline",
        "IsCompute": false,
        "PushConstantRangesCount": 1,
        "NumerOfDescriptorSets": 5,
        "Renderpass": "basic",
        "VertexAttributeCount": 0,
        "PipelineLayoutDescriptors": [
          "ViewProjection",
          "Environment",
          "Transforms",
          "Meshlets",
          "Material"
        ],
        "PushConstants": {
          "Stage": [
            "MESH_STAGE",
            "TASK_STAGE",
            "COMPUTE_STAGE"
          ],
          "Size" : 80,
          "Offset" : 0
        },
        "Builtin": true,
        "ShaderCount": 3,
        "Shaders": [
          {
            "Type": "Mesh",
            "ResourcesCount": 1,
            "Source": "resources\\Shaders\\spirv\\mesh.mesh.spv"
          },
          {
            "Type": "Task",
            "ResourcesCount": 0,
            "Source": "resources\\Shaders\\spirv\\task.task.spv"
          },
          {
            "Type": "Fragment",
            "ResourcesCount": 0,
            "Source": "resources\\Shaders\\spirv\\fragment.frag.spv"
          }
        ]
      },
      {
        "Key": "CommandProcessor",
        "IsCompute": true,
        "PushConstantRangesCount": 1,
        "NumerOfDescriptorSets": 2,
        "PipelineLayoutDescriptors": [
          "CommandProcessor",
          "Transforms"
        ],
        "PushConstants": {
          "Stage" :["COMPUTE_STAGE"],
          "Size" : 128,
          "Offset" : 0
        },
        "Builtin": true,
        "Shader": {
          "Type": "Compute",
          "ResourcesCount": 1,
          "Source": "resources\\Shaders\\spirv\\command.comp.spv"
        }
      },
      {
        "Key": "OcclusionWrite",
        "IsCompute": true,
        "PushConstantRangesCount": 1,
        "NumerOfDescriptorSets": 1,
        "PipelineLayoutDescriptors": [
          "OcclusionWrite"
        ],
        "PushConstants": {
          "Stage" :["COMPUTE_STAGE"],
          "Size" : 32,
          "Offset" : 0
        },
        "Builtin": true,
        "Shader": {
          "Type": "Compute",
          "ResourcesCount": 1,
          "Source": "resources\\Shaders\\spirv\\occlusionwrite.comp.spv"
        }
      },
      {
        "Key": "OcclusionCulling",
        "IsCompute": true,
        "PushConstantRangesCount": 1,
        "NumerOfDescriptorSets": 3,
        "PipelineLayoutDescriptors": [
          "OcclusionCulling",
          "Transforms",
          "ViewProjection"
        ],
        "PushConstants": {
          "Stage" :["COMPUTE_STAGE"],
          "Size" : 128,
          "Offset" : 0
        },
        "Builtin": true,
        "Shader": {
          "Type": "Compute",
          "ResourcesCount": 1,
          "Source": "resources\\Shaders\\spirv\\occlusion.comp.spv"
        }
      },
      {
        "Key": "BrdfLutGen",
        "IsCompute": true,
        "PushConstantRangesCount": 0,
        "NumerOfDescriptorSets": 1,
        "PipelineLayoutDescriptors": ["BrdfLut"],
        "PushConstants": {},
        "Builtin": true,
        "Shader": {
          "Type": "Compute",
          "ResourcesCount": 1,
          "Source": "resources\\Shaders\\spirv\\brdflutgen.comp.spv"
        },
        "BindingResources": [
          {
            "Key": "BrdfLut",
            "Stage": [ "COMPUTE_STAGE" ],
            "Type": "IMAGE_STORAGE",
            "Binding": 0
          }
        ]
      }
    ]
  }
}